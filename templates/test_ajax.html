<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AJAX вместе с Flask</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>
<body>
    <script>
        function get_note() {
            $.ajax({
                type: "POST",
                url: "/get_note",
                data: $('form').serialize(),
                type: 'POST',
                success: function(response) {
                    var json = jQuery.parseJSON(response);
                    $('#note_front').attr('class', json.notes_front)
                    $('#note_back').attr('class', json.notes_back)
                    console.log(response);
                    console.log(json);
                },
                error: function(error) {
                    console.log(error);
                }
            });
        }
    </script>



    <form action="/get_note" method="post" name="form">
        <input hidden id="note_number" name="note_number" value="New_deck" type="text">
        <input type="button" value="Следующая карточка" onclick="get_note();">
    </form>


    <div id="note_front"></div>
    <div id="note_back"></div>
    <div id="checker" class="0"></div>
    <button type="submit" id="submit" onclick="change();">Перевернуть карточку</button>


    <script>
        var note_front = $('#note_front');
        var note_back = $('#note_back');
        var check = $('#checker');
        function change(){
            if (check.attr('class') === '0')
            {
                note_front.html(note_front.attr('class'))
                note_back.html('')
                check.attr('class', "1")
            }
            else
            {
                note_back.html(note_back.attr('class'))
                note_front.html('')
                check.attr('class', "0")
            }
        }
    </script>
</body>
</html>